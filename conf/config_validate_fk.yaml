defaults:
  - _self_

data:
  data_source: ./data/
  indices:
    start: 0
    end: 100
  val_indices:
    start: 100
    end: 200
  eval_indices:
    start: 70
    end: 120
  num_instances: 20
  max_num_links: 5
  fix_q_samples: true

validation:
  device: cuda
  seed: 0
  output_dir: ./outputs/validate_fk
  methods:
    - name: siren_epoch_470
      config: conf/conf_siren/config_siren.yaml
      checkpoint: checkpoints/mfk_siren/epoch_470.pth
    - name: siren_fake_epoch_470
      config: conf/conf_siren/config_siren_fake.yaml
      checkpoint: checkpoints/mfk_siren_fake/epoch_470.pth
    - name: siren_split_epoch_470
      config: conf/conf_siren/config_siren_split.yaml
      checkpoint: checkpoints/mfk_siren_split/epoch_470.pth
    - name: siren_nonorm_epoch_470
      config: conf/conf_siren/config_siren_nonorm.yaml
      checkpoint: checkpoints/mfk_siren_nonorm/epoch_470.pth
    - name: mlp_epoch_470
      config: conf/conf_siren/config_mlp.yaml
      checkpoint: checkpoints/mfk_mlp/epoch_470.pth

  metrics:
    sdf_l1_surface:
      enabled: true
      num_samples: 2048
    sdf_l1_deepsdf:
      enabled: true
      num_samples: 2048
      var: 0.005
      near_surface_ratio: 0.95
    iou:
      enabled: true
      grid_res: 64
      grid_scale_factor: 1.4

  mask:
    mode: all  # none | num_masked | specific | index | all
    num_masked: 1
    min_visible: 1
    specific: []
    index: 0

  plots:
    metric: all
    category: all
    length: all
    mask_mode: num_masked  # num_masked | mask_idx | none
    mask_values: all
    mask_indices: all
    save_all_combinations: true
    save_html: false

  visualize_mesh:
    enabled: true
    output_dir: ./outputs/validate_fk/meshes
    instance_idx: [0]  # list[int] or "all"
    grid_res: 128
    max_batch: 262144
    grid_scale_factor: 1.4
    save_html: true
    show_pred_only: false
